{"version":3,"sources":["webpack:///js/game.js","webpack:///webpack/bootstrap 0fe25b2a8210f33f2911","webpack:///./src/app/setting.json","webpack:///./src/app/class/Rect.js","webpack:///./src/app/class/Sprite.js","webpack:///./src/app/class/BulletSprite.js","webpack:///./src/app/class/BossSprite.js","webpack:///./src/app/class/Emitter.js","webpack:///./src/app/class/PlayerSprite.js","webpack:///./src/app/class/QuadTree.js","webpack:///./src/app/game.js","webpack:///./src/app/lib/anime.js","webpack:///./src/app/resouce.js","webpack:///./src/images/all.png","webpack:///./src/images/bg.png","webpack:///./src/images/explosion.png","webpack:///./src/images/player.png"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","Emitter","orignX","orignY","orignWidth","orignHeight","speed","number","limit","spacing","timeout","propulsiontype","type","Explosion","Boss","HP","Player","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Rect","x","y","width","height","this","assign","cx","cy","halfWidth","halfHeight","per","bounds","result","temp","dx","dy","carveX","carveY","carve","concat","shift","push","_interopRequireDefault","obj","__esModule","default","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_Rect2","_Rect3","_anime","_anime2","_setting","_setting2","Sprite","_Rect","img","config","_this","getPrototypeOf","mapX","mapY","mapWidth","mapHeight","removed","undead","ctx","drawImage","index","Math","round","_name","name","tree","exp","move","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getter","_Sprite2","_Sprite3","Bullet","_Sprite","angle","dist","distX","distY","motion","sin","cos","sqrt","rand","min","max","floor","random","_Emitter","_Emitter2","emitterConfig","emitter","main","num","fireTimes","fireSwitch","_this2","setEmitter","setTimeout","fire","_BulletSprite","_BulletSprite2","blt","PI","owner","set","insert","EmitterConfig","isInner","rect","QuadTree","level","objects","nodes","subnode","splice","clear","onTop","onBottom","onLeft","onRight","sWidth","sHeight","objs","getIndex","MAX_OBJECTS","MAX_LEVELS","split","arr","retrieve","root","len","refresh","_BossSprite","_BossSprite2","_PlayerSprite","_PlayerSprite2","_QuadTree","_QuadTree2","_resouce","_resouce2","lastTime","vendors","window","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","clearTimeout","SYS","Collision","Render","Loader","Control","Resource","Setting","Dom","layer","loadedCount","totalCount","soundFileExtn","init","mp3Support","oggSupport","audio","document","createElement","canPlayType","itemLoaded","style","display","onload","loadImages","url","Image","src","loadSound","Audio","addEventListener","startPos","movePos","eventList","callbackList","addHandler","element","Func","attachEvent","_this3","start","end","startFunc","ev","event","pos","touches","pageX","pageY","moveFunc","preventDefault","endFunc","cb","on","tap","abs","swipe","Tree","check","collider","collidee","canvas","renderWidth","renderHeight","Queue","getContext","add","item","empty","clearRect","render","_this4","forEach","go","draw","scorelayer","getElementById","menulayer","resetlayer","loadlayer","bglayer","bgcanvas","score","images","sounds","Game","RAF","_this5","documentElement","clientWidth","clientHeight","backgroundAlpha","all","ALL","player","PLAYER","explosion","EXPLOSION","bg","BG","play","_this6","resultArr","boss","img_all","FPS","loop","destroy","hit","ceasefire","innerHTML","parseInt","show","elem","srcElement","reset","startTime","endTime","frame","Anime","sprite","total","timer","change","_all","_all2","_player","_player2","_explosion","_explosion2","_bg","_bg2"],"mappings":"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","file":"js/game.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(9);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"Emitter\": [\n\t\t\t{\n\t\t\t\t\"orignX\": 36,\n\t\t\t\t\"orignY\": 64,\n\t\t\t\t\"orignWidth\": 6,\n\t\t\t\t\"orignHeight\": 14,\n\t\t\t\t\"speed\": 20,\n\t\t\t\t\"number\": 15,\n\t\t\t\t\"limit\": 5,\n\t\t\t\t\"spacing\": 100,\n\t\t\t\t\"timeout\": 500,\n\t\t\t\t\"propulsiontype\": \"line\",\n\t\t\t\t\"type\": \"circle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"orignX\": 64,\n\t\t\t\t\"orignY\": 448,\n\t\t\t\t\"orignWidth\": 64,\n\t\t\t\t\"orignHeight\": 64,\n\t\t\t\t\"speed\": 2,\n\t\t\t\t\"number\": 15,\n\t\t\t\t\"limit\": 5,\n\t\t\t\t\"spacing\": 50,\n\t\t\t\t\"timeout\": 500,\n\t\t\t\t\"propulsiontype\": \"circle\",\n\t\t\t\t\"type\": \"circle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"orignX\": 32,\n\t\t\t\t\"orignY\": 32,\n\t\t\t\t\"orignWidth\": 16,\n\t\t\t\t\"orignHeight\": 16,\n\t\t\t\t\"speed\": 5,\n\t\t\t\t\"number\": 15,\n\t\t\t\t\"limit\": 5,\n\t\t\t\t\"spacing\": 50,\n\t\t\t\t\"timeout\": 1500,\n\t\t\t\t\"propulsiontype\": \"circle\",\n\t\t\t\t\"type\": \"circle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"orignX\": 128,\n\t\t\t\t\"orignY\": 208,\n\t\t\t\t\"orignWidth\": 32,\n\t\t\t\t\"orignHeight\": 32,\n\t\t\t\t\"speed\": 10,\n\t\t\t\t\"number\": 25,\n\t\t\t\t\"limit\": 5,\n\t\t\t\t\"spacing\": 50,\n\t\t\t\t\"timeout\": 1500,\n\t\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\t\"type\": \"circle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"orignX\": 192,\n\t\t\t\t\"orignY\": 256,\n\t\t\t\t\"orignWidth\": 32,\n\t\t\t\t\"orignHeight\": 32,\n\t\t\t\t\"speed\": 10,\n\t\t\t\t\"number\": 9,\n\t\t\t\t\"limit\": 5,\n\t\t\t\t\"spacing\": 50,\n\t\t\t\t\"timeout\": 1500,\n\t\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\t\"type\": \"circle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"orignX\": 64,\n\t\t\t\t\"orignY\": 448,\n\t\t\t\t\"orignWidth\": 64,\n\t\t\t\t\"orignHeight\": 64,\n\t\t\t\t\"speed\": 10,\n\t\t\t\t\"number\": 6,\n\t\t\t\t\"limit\": 5,\n\t\t\t\t\"spacing\": 50,\n\t\t\t\t\"timeout\": 1500,\n\t\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\t\"type\": \"circle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"orignX\": 32,\n\t\t\t\t\"orignY\": 32,\n\t\t\t\t\"orignWidth\": 16,\n\t\t\t\t\"orignHeight\": 16,\n\t\t\t\t\"speed\": 10,\n\t\t\t\t\"number\": 15,\n\t\t\t\t\"limit\": 5,\n\t\t\t\t\"spacing\": 50,\n\t\t\t\t\"timeout\": 1500,\n\t\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\t\"type\": \"circle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"orignX\": 32,\n\t\t\t\t\"orignY\": 32,\n\t\t\t\t\"orignWidth\": 16,\n\t\t\t\t\"orignHeight\": 16,\n\t\t\t\t\"speed\": 10,\n\t\t\t\t\"number\": 15,\n\t\t\t\t\"limit\": 5,\n\t\t\t\t\"spacing\": 50,\n\t\t\t\t\"timeout\": 1500,\n\t\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\t\"type\": \"circle\"\n\t\t\t}\n\t\t],\n\t\t\"Explosion\": [\n\t\t\t{\n\t\t\t\t\"orignX\": 0,\n\t\t\t\t\"orignY\": 0,\n\t\t\t\t\"orignWidth\": 62,\n\t\t\t\t\"orignHeight\": 63\n\t\t\t}\n\t\t],\n\t\t\"Boss\": [\n\t\t\t{\n\t\t\t\t\"orignX\": 0,\n\t\t\t\t\"orignY\": 1712,\n\t\t\t\t\"orignWidth\": 48,\n\t\t\t\t\"orignHeight\": 48,\n\t\t\t\t\"HP\": 10\n\t\t\t}\n\t\t],\n\t\t\"Player\": [\n\t\t\t{\n\t\t\t\t\"orignX\": 0,\n\t\t\t\t\"orignY\": 294,\n\t\t\t\t\"orignWidth\": 90,\n\t\t\t\t\"orignHeight\": 90,\n\t\t\t\t\"HP\": 5\n\t\t\t}\n\t\t]\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/*\n\t\t矩形对象||碰撞对象\n\t*/\n\t\n\tvar Rect = function () {\n\t\tfunction Rect(x, y, width, height) {\n\t\t\t_classCallCheck(this, Rect);\n\t\n\t\t\tObject.assign(this, {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\tcx: x + width / 2,\n\t\t\t\tcy: y + height / 2,\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\thalfWidth: width / 2,\n\t\t\t\thalfHeight: height / 2\n\t\t\t});\n\t\t}\n\t\n\t\t_createClass(Rect, [{\n\t\t\tkey: \"move\",\n\t\t\tvalue: function move(cx, cy) {\n\t\t\t\tthis.x = cx - this.halfWidth;\n\t\t\t\tthis.y = cy - this.halfHeight;\n\t\t\t\tthis.cx = cx;\n\t\t\t\tthis.cy = cy;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"resize\",\n\t\t\tvalue: function resize(per) {\n\t\t\t\tthis.width *= per;\n\t\t\t\tthis.height *= per;\n\t\t\t\tthis.halfWidth *= per;\n\t\t\t\tthis.halfHeight *= per;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"carve\",\n\t\t\tvalue: function carve(bounds) {\n\t\t\t\tvar result = [],\n\t\t\t\t    temp = [],\n\t\t\t\t    cx = bounds.cx,\n\t\t\t\t    cy = bounds.cy,\n\t\t\t\t    dx = cx - this.x,\n\t\t\t\t    dy = cy - this.y,\n\t\t\t\t    carveX = dx > 0 && dx < this.width,\n\t\t\t\t    carveY = dy > 0 && dy < this.height;\n\t\n\t\t\t\tif (carveX && carveY) {\n\t\t\t\t\t// 切割XY方向\n\t\t\t\t\ttemp = this.carve(cx, this.y);\n\t\t\t\t\twhile (temp.length) {\n\t\t\t\t\t\tresult = result.concat(temp.shift().carve(this.x, cy));\n\t\t\t\t\t}\n\t\t\t\t} else if (carveX) {\n\t\t\t\t\t// 只切割X方向\n\t\t\t\t\tresult.push(new Rect(this.x, this.y, dx, this.height), new Rect(cx, this.y, this.width - dx, this.height));\n\t\t\t\t} else if (carveY) {\n\t\t\t\t\t// 只切割Y方向\n\t\t\t\t\tresult.push(new Rect(this.x, this.y, this.width, dy), new Rect(this.x, cy, this.width, this.height - dy));\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Rect;\n\t}();\n\t\n\texports.default = Rect;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Rect2 = __webpack_require__(2);\n\t\n\tvar _Rect3 = _interopRequireDefault(_Rect2);\n\t\n\tvar _anime = __webpack_require__(12);\n\t\n\tvar _anime2 = _interopRequireDefault(_anime);\n\t\n\tvar _setting = __webpack_require__(1);\n\t\n\tvar _setting2 = _interopRequireDefault(_setting);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Sprite = function (_Rect) {\n\t\t_inherits(Sprite, _Rect);\n\t\n\t\tfunction Sprite(img, config) {\n\t\t\t_classCallCheck(this, Sprite);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Sprite).call(this, 0, 0, config.orignWidth, config.orignHeight)); //初始化映射目标，映射坐标，映射宽高\torignX, orignY, width, height\n\t\n\t\n\t\t\tObject.assign(_this, {\n\t\t\t\timg: img,\n\t\t\t\torignX: config.orignX,\n\t\t\t\torignY: config.orignY,\n\t\t\t\torignWidth: config.orignWidth,\n\t\t\t\torignHeight: config.orignHeight,\n\t\t\t\tmapX: config.orignX,\n\t\t\t\tmapY: config.orignY,\n\t\t\t\tmapWidth: config.orignWidth,\n\t\t\t\tmapHeight: config.orignHeight,\n\t\t\t\tremoved: false,\n\t\t\t\tundead: false\n\t\t\t});\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Sprite, [{\n\t\t\tkey: 'draw',\n\t\t\tvalue: function draw(ctx) {\n\t\t\t\tctx.drawImage(this.img, this.orignX, this.orignY, this.orignWidth, this.orignHeight, this.cx - this.mapWidth / 2, this.cy - this.mapHeight / 2, this.mapWidth, this.mapHeight);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'change',\n\t\t\tvalue: function change(index) {\n\t\t\t\tthis.orignX = Math.round(index * this.orignWidth);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'remap',\n\t\t\tvalue: function remap(per) {\n\t\t\t\tthis.mapWidth *= per;\n\t\t\t\tthis.mapHeight *= per;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'name',\n\t\t\tvalue: function name(_name) {\n\t\t\t\t//测试\n\t\t\t\tthis.name = _name;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'go',\n\t\t\tvalue: function go() {}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy(img, tree) {\n\t\t\t\tvar exp = new Sprite(img, _setting2.default.Explosion[0]);\n\t\t\t\texp.move(this.cx, this.cy);\n\t\t\t\texp.undead = true;\n\t\t\t\t(0, _anime2.default)(exp, 0, 15, 75, tree);\n\t\t\t\tthis.removed = true;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Sprite;\n\t}(_Rect3.default);\n\t\n\texports.default = Sprite;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _Sprite2 = __webpack_require__(3);\n\t\n\tvar _Sprite3 = _interopRequireDefault(_Sprite2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Bullet = function (_Sprite) {\n\t\t_inherits(Bullet, _Sprite);\n\t\n\t\tfunction Bullet(img, cx, cy, config) {\n\t\t\t_classCallCheck(this, Bullet);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Bullet).call(this, img, config));\n\t\n\t\t\t_get(Object.getPrototypeOf(Bullet.prototype), 'move', _this).call(_this, cx, cy);\n\t\n\t\t\tObject.assign(_this, {\n\t\t\t\tangle: 0,\n\t\t\t\tdist: 0,\n\t\t\t\tpropulsiontype: null\n\t\t\t});\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Bullet, [{\n\t\t\tkey: 'set',\n\t\t\tvalue: function set(angle, dist, propulsiontype) {\n\t\t\t\tthis.angle = angle;\n\t\t\t\tthis.dist = dist;\n\t\t\t\tthis.propulsiontype = propulsiontype;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'go',\n\t\t\tvalue: function go() {\n\t\t\t\tthis[this.propulsiontype](this.angle, this.dist);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'motion',\n\t\t\tvalue: function motion(distX, distY) {\n\t\t\t\tthis.cx += distX;\n\t\t\t\tthis.cy += distY;\n\t\t\t\tthis.x += distX;\n\t\t\t\tthis.y += distY;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'gravity',\n\t\t\tvalue: function gravity() {\n\t\t\t\tthis.cy += 5;\n\t\t\t\tthis.y += 5;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'line',\n\t\t\tvalue: function line(distX, distY) {\n\t\t\t\tthis.motion(distX, distY);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'circle',\n\t\t\tvalue: function circle(angle, dist) {\n\t\t\t\tvar distX = Math.round(Math.sin(angle) * dist);\n\t\t\t\tvar distY = Math.round(Math.cos(angle) * dist);\n\t\t\t\t//this.gravity();\n\t\t\t\tthis.motion(distX, distY);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'test',\n\t\t\tvalue: function test(angle, dist) {\n\t\t\t\tvar distX = Math.round(Math.sin(angle) * dist);\n\t\t\t\tvar distY = Math.round(Math.sqrt(dist));\n\t\t\t\t//let distY = -Math.round(Math.log(distX));\n\t\t\t\tthis.motion(distX, distY);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Bullet;\n\t}(_Sprite3.default);\n\t\n\texports.default = Bullet;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _Sprite2 = __webpack_require__(3);\n\t\n\tvar _Sprite3 = _interopRequireDefault(_Sprite2);\n\t\n\tvar _Emitter = __webpack_require__(6);\n\t\n\tvar _Emitter2 = _interopRequireDefault(_Emitter);\n\t\n\tvar _setting = __webpack_require__(1);\n\t\n\tvar _setting2 = _interopRequireDefault(_setting);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction rand(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t}\n\t\n\tvar Boss = function (_Sprite) {\n\t\t_inherits(Boss, _Sprite);\n\t\n\t\tfunction Boss(img, cx, cy, config) {\n\t\t\t_classCallCheck(this, Boss);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Boss).call(this, img, config));\n\t\n\t\t\tvar emitterConfig = _setting2.default.Emitter[2];\n\t\n\t\t\t_this.emitterConfig = emitterConfig;\n\t\n\t\t\t_get(Object.getPrototypeOf(Boss.prototype), 'remap', _this).call(_this, 2.5);\n\t\t\t_get(Object.getPrototypeOf(Boss.prototype), 'resize', _this).call(_this, 2);\n\t\t\t_get(Object.getPrototypeOf(Boss.prototype), 'move', _this).call(_this, cx, cy);\n\t\n\t\t\t_this.HP = config.HP;\n\t\t\t_this.emitter = {\n\t\t\t\tmain: new _Emitter2.default(img, cx, cy),\n\t\t\t\tspeed: emitterConfig.speed,\n\t\t\t\tnum: emitterConfig.number,\n\t\t\t\tlimit: emitterConfig.limit,\n\t\t\t\tspacing: emitterConfig.spacing,\n\t\t\t\ttimeout: emitterConfig.timeout,\n\t\t\t\ttype: emitterConfig.type,\n\t\t\t\tdist: 0\n\t\t\t};\n\t\t\t_this.fireTimes = 0;\n\t\t\t_this.fireSwitch = true;\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Boss, [{\n\t\t\tkey: 'setEmitter',\n\t\t\tvalue: function setEmitter(emitterConfig) {\n\t\t\t\tObject.assign(this.emitter, emitterConfig);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'fire',\n\t\t\tvalue: function fire(tree) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tif (!this.fireSwitch) return;\n\t\n\t\t\t\tif (this.emitter.dist < this.emitter.spacing) {\n\t\t\t\t\t//当间距达到了限定值才允许射击\n\t\t\t\t\treturn this.emitter.dist += this.emitter.speed;\n\t\t\t\t} else {\n\t\t\t\t\tthis.emitter.dist = 0;\n\t\t\t\t}\n\t\n\t\t\t\tif (this.fireTimes > this.emitter.limit) {\n\t\t\t\t\t//当开火次数到一轮攻击的上限，关闭开火阀门，两秒后打开\n\t\t\t\t\tthis.emitterConfig = _setting2.default.Emitter[rand(1, _setting2.default.Emitter.length)]; //type[0]\n\t\t\t\t\tthis.setEmitter(this.emitterConfig);\n\t\t\t\t\tthis.fireTimes = 0;\n\t\t\t\t\tthis.fireSwitch = false;\n\t\t\t\t\treturn setTimeout(function () {\n\t\t\t\t\t\t_this2.fireSwitch = true;\n\t\t\t\t\t}, this.emitter.timeout);\n\t\t\t\t} else {\n\t\t\t\t\tthis.fireTimes++;\n\t\t\t\t}\n\t\t\t\tthis.emitter.main[this.emitter.type](this.emitterConfig, tree);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'ceasefire',\n\t\t\tvalue: function ceasefire() {\n\t\t\t\tthis.fire = new Function();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hit',\n\t\t\tvalue: function hit() {\n\t\t\t\tthis.HP--;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Boss;\n\t}(_Sprite3.default);\n\t\n\texports.default = Boss;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _BulletSprite = __webpack_require__(4);\n\t\n\tvar _BulletSprite2 = _interopRequireDefault(_BulletSprite);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Emitter = function () {\n\t\tfunction Emitter(img, cx, cy) {\n\t\t\t_classCallCheck(this, Emitter);\n\t\n\t\t\tthis.img = img;\n\t\t\tthis.cx = cx;\n\t\t\tthis.cy = cy;\n\t\t}\n\t\n\t\t_createClass(Emitter, [{\n\t\t\tkey: 'circle',\n\t\t\tvalue: function circle(emitterConfig, tree) {\n\t\t\t\tvar number = void 0,\n\t\t\t\t    speed = void 0,\n\t\t\t\t    propulsiontype = void 0,\n\t\t\t\t    angle = void 0,\n\t\t\t\t    blt = void 0;\n\t\n\t\t\t\tnumber = emitterConfig.number; //9\n\t\t\t\tspeed = emitterConfig.speed; //15\n\t\t\t\tpropulsiontype = emitterConfig.propulsiontype;\n\t\n\t\t\t\tfor (var i = 1; i < number + 1; ++i) {\n\t\t\t\t\tangle = Math.PI * 2 * i / number;\n\t\n\t\t\t\t\tblt = new _BulletSprite2.default(this.img, this.cx, this.cy, emitterConfig);\n\t\t\t\t\tblt.owner = 'boss';\n\t\t\t\t\tblt.set(angle, speed, propulsiontype);\n\t\t\t\t\ttree.insert(blt);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Emitter;\n\t}();\n\t\n\texports.default = Emitter;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _Sprite2 = __webpack_require__(3);\n\t\n\tvar _Sprite3 = _interopRequireDefault(_Sprite2);\n\t\n\tvar _BulletSprite = __webpack_require__(4);\n\t\n\tvar _BulletSprite2 = _interopRequireDefault(_BulletSprite);\n\t\n\tvar _setting = __webpack_require__(1);\n\t\n\tvar _setting2 = _interopRequireDefault(_setting);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Player = function (_Sprite) {\n\t\t_inherits(Player, _Sprite);\n\t\n\t\tfunction Player(img, cx, cy, config) {\n\t\t\t_classCallCheck(this, Player);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Player).call(this, img, config));\n\t\n\t\t\t_get(Object.getPrototypeOf(Player.prototype), 'move', _this).call(_this, cx, cy);\n\t\t\t_get(Object.getPrototypeOf(Player.prototype), 'resize', _this).call(_this, 0.8);\n\t\n\t\t\tvar EmitterConfig = _setting2.default.Emitter[0]; //type[1]\n\t\t\t_this.HP = config.HP;\n\t\t\t_this.emitter = {\n\t\t\t\timg: img,\n\t\t\t\tspeed: EmitterConfig.speed,\n\t\t\t\tnum: EmitterConfig.number,\n\t\t\t\tlimit: EmitterConfig.limit,\n\t\t\t\ttimeout: EmitterConfig.timeout,\n\t\t\t\tpropulsiontype: EmitterConfig.propulsiontype,\n\t\t\t\ttype: EmitterConfig.type,\n\t\t\t\tspacing: 100,\n\t\t\t\tdist: 0\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Player, [{\n\t\t\tkey: 'fire',\n\t\t\tvalue: function fire(tree) {\n\t\t\t\tthis.emitter.dist += this.emitter.speed;\n\t\t\t\tif (this.emitter.dist < this.emitter.spacing) {\n\t\t\t\t\t//当间距达到了限定值才允许射击\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tthis.emitter.dist = 0;\n\t\t\t\t}\n\t\n\t\t\t\tvar blt = new _BulletSprite2.default(this.img, this.cx, this.cy, _setting2.default.Emitter[0]);\n\t\t\t\tblt.owner = 'player';\n\t\n\t\t\t\tblt.set(1, -this.emitter.speed, this.emitter.propulsiontype);\n\t\n\t\t\t\ttree.insert(blt);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hit',\n\t\t\tvalue: function hit() {\n\t\t\t\tthis.HP--;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'ceasefire',\n\t\t\tvalue: function ceasefire() {\n\t\t\t\tthis.fire = new Function();\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Player;\n\t}(_Sprite3.default);\n\t\n\texports.default = Player;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \t四叉碰撞树\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \t1.内容来自CSDN & 百度文库，感谢分享\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \t2.CSDN内容略有错误，参照百度文库内容修改了部分\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \t3.自行修改了部分代码，添加了些许功能\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\t\n\t\n\tvar _Rect = __webpack_require__(2);\n\t\n\tvar _Rect2 = _interopRequireDefault(_Rect);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/* \n\t\t四叉树节点包含：\n\t\t- objects: 用于存储物体对象\n\t\t- nodes: 存储四个子节点\n\t\t- level: 该节点的深度，根节点的默认深度为0\n\t\t- bounds: 该节点对应的象限在屏幕上的范围，bounds是一个矩形\n\t*/\n\t\n\tvar QuadTree = function () {\n\t\tfunction QuadTree(bounds, level) {\n\t\t\t_classCallCheck(this, QuadTree);\n\t\n\t\t\tthis.objects = [];\n\t\t\tthis.nodes = [];\n\t\t\tthis.level = typeof level === 'undefined' ? 0 : level;\n\t\t\tthis.bounds = bounds;\n\t\t}\n\t\n\t\t/* \n\t \t获取物体对应的象限序号，以屏幕中心为界限，切割屏幕:\n\t \t- 右上：象限一\n\t \t- 左上：象限二\n\t \t- 左下：象限三\n\t \t- 右下：象限四\n\t */\n\t\t// 清空子节点\n\t\n\t\n\t\t_createClass(QuadTree, [{\n\t\t\tkey: 'clear',\n\t\t\tvalue: function clear() {\n\t\t\t\tvar nodes = this.nodes,\n\t\t\t\t    subnode = void 0;\n\t\t\t\tthis.objects.splice(0, this.objects.length);\n\t\t\t\twhile (nodes.length) {\n\t\t\t\t\tsubnode = nodes.shift();\n\t\t\t\t\tsubnode.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getIndex',\n\t\t\tvalue: function getIndex(rect) {\n\t\t\t\tvar bounds = this.bounds,\n\t\t\t\t    onTop = rect.y + rect.height <= bounds.cy,\n\t\t\t\t    onBottom = rect.y >= bounds.cy,\n\t\t\t\t    onLeft = rect.x + rect.width <= bounds.cx,\n\t\t\t\t    onRight = rect.x >= bounds.cx;\n\t\n\t\t\t\t//if (!isInner) return -1;\n\t\n\t\t\t\tif (onTop) {\n\t\t\t\t\tif (onRight) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t} else if (onLeft) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t} else if (onBottom) {\n\t\t\t\t\tif (onLeft) {\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\t} else if (onRight) {\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// 如果物体跨越多个象限，则放回-1\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\t// 划分\n\t\n\t\t}, {\n\t\t\tkey: 'split',\n\t\t\tvalue: function split() {\n\t\t\t\tvar level = this.level,\n\t\t\t\t    bounds = this.bounds,\n\t\t\t\t    x = bounds.x,\n\t\t\t\t    //0\n\t\t\t\ty = bounds.y,\n\t\t\t\t    //0\n\t\t\t\tcx = bounds.cx,\n\t\t\t\t    cy = bounds.cy,\n\t\t\t\t    sWidth = bounds.width / 2,\n\t\t\t\t    //360/2=180\n\t\t\t\tsHeight = bounds.height / 2; //640/2=320\n\t\n\t\t\t\tthis.nodes.push(new QuadTree(new _Rect2.default(cx, y, sWidth, sHeight), level + 1), new QuadTree(new _Rect2.default(x, y, sWidth, sHeight), level + 1), new QuadTree(new _Rect2.default(x, cy, sWidth, sHeight), level + 1), new QuadTree(new _Rect2.default(cx, cy, sWidth, sHeight), level + 1));\n\t\t\t}\n\t\t\t/*\n\t  \t插入功能：\n\t  \t\t- 如果当前节点[ 存在 ]子节点，则检查物体到底属于哪个子节点，如果能匹配到子节点，则将该物体插入到该子节点中\n\t  \t\t- 如果当前节点[ 不存在 ]子节点，将该物体存储在当前节点。随后，检查当前节点的存储数量，如果超过了最大存储数量，则对当前节点进行划分，划分完成后，将当前节点存储的物体重新分配到四个子节点中。\n\t  */\n\t\n\t\t}, {\n\t\t\tkey: 'insert',\n\t\t\tvalue: function insert(rect) {\n\t\t\t\tvar objs = this.objects,\n\t\t\t\t    i = void 0,\n\t\t\t\t    index = void 0;\n\t\n\t\t\t\t// 如果该节点下存在子节点\n\t\t\t\tif (this.nodes.length) {\n\t\t\t\t\tindex = this.getIndex(rect);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\tthis.nodes[index].insert(rect);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// 否则存储在当前节点下\n\t\t\t\tobjs.push(rect);\n\t\n\t\t\t\t// 如果当前节点存储的数量超过了MAX_OBJECTS\n\t\t\t\tif (!this.nodes.length && this.objects.length > this.MAX_OBJECTS && this.level < this.MAX_LEVELS) {\n\t\n\t\t\t\t\tthis.split();\n\t\n\t\t\t\t\tfor (i = objs.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tindex = this.getIndex(objs[i]);\n\t\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\t\tthis.nodes[index].insert(objs.splice(i, 1)[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t/*\n\t  \t检索功能：\n\t  \t\t给出一个物体对象，该函数负责将该物体可能发生碰撞的所有物体选取出来。该函数先查找物体所属的象限，该象限下的物体都是有可能发生碰撞的，然后再递归地查找子象限...\n\t  */\n\t\n\t\t}, {\n\t\t\tkey: 'retrieve',\n\t\t\tvalue: function retrieve(rect) {\n\t\t\t\tvar result = [],\n\t\t\t\t    arr = void 0,\n\t\t\t\t    i = void 0,\n\t\t\t\t    index = void 0;\n\t\n\t\t\t\tif (this.nodes.length) {\n\t\t\t\t\tindex = this.getIndex(rect); //获得区域编号\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\t//如果在边界线上\n\t\t\t\t\t\tresult = result.concat(this.nodes[index].retrieve(rect)); //查找子节点并将结果合并到result\n\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 切割矩形\n\t\t\t\t\t\t\tarr = rect.carve(this.bounds);\n\t\t\t\t\t\t\tfor (i = arr.length - 1; i >= 0; i--) {\n\t\t\t\t\t\t\t\tindex = this.getIndex(arr[i]);\n\t\t\t\t\t\t\t\tif (index === -1) break;\n\t\t\t\t\t\t\t\tresult = result.concat(this.nodes[index].retrieve(rect));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tresult = result.concat(this.objects);\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\n\t\t\t/*\n\t  \t动态更新：\n\t  \t\t从根节点深入四叉树，检查四叉树各个节点存储的物体是否依旧属于该节点（象限）的范围之内，如果不属于，则重新插入该物体。\n\t  */\n\t\n\t\t}, {\n\t\t\tkey: 'refresh',\n\t\t\tvalue: function refresh(root) {\n\t\t\t\tvar objs = this.objects,\n\t\t\t\t    result = [],\n\t\t\t\t    rect = void 0,\n\t\t\t\t    index = void 0,\n\t\t\t\t    i = void 0,\n\t\t\t\t    len = void 0;\n\t\n\t\t\t\troot = root || this;\n\t\n\t\t\t\tfor (i = objs.length - 1; i >= 0; i--) {\n\t\t\t\t\trect = objs[i]; //rect为objs的基类\n\t\t\t\t\tif (rect.removed || !isInner(rect, root.bounds)) {\n\t\t\t\t\t\t//当sprite标记为已删除||超出屏幕\n\t\t\t\t\t\tthis.objects.splice(i, 1); //删除当前物体\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tindex = this.getIndex(rect);\n\t\t\t\t\t// 如果矩形不属于该象限，则将该矩形重新插入\n\t\t\t\t\tif (index === -1 || !isInner(rect, this.bounds)) {\n\t\t\t\t\t\tif (this !== root) {\n\t\t\t\t\t\t\troot.insert(objs.splice(i, 1)[0]);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// 如果矩形属于该象限 且 该象限具有子象限，则\n\t\t\t\t\t\t// 将该矩形安插到子象限中\n\t\t\t\t\t} else if (this.nodes.length) {\n\t\t\t\t\t\t\tthis.nodes[index].insert(objs.splice(i, 1)[0]);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// 递归刷新子象限\n\t\t\t\tfor (i = 0, len = this.nodes.length; i < len; i++) {\n\t\t\t\t\tresult = result.concat(this.nodes[i].refresh(root));\n\t\t\t\t}\n\t\t\t\tresult = result.concat(objs);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn QuadTree;\n\t}();\n\t/*\n\t\t常量：\n\t\t- MAX_OBJECTS: 每个节点（象限）所能包含物体的最大数量\n\t\t- MAX_LEVELS: 四叉树的最大深度\n\t*/\n\t\n\t\n\texports.default = QuadTree;\n\tQuadTree.prototype.MAX_OBJECTS = 10;\n\tQuadTree.prototype.MAX_LEVELS = 5;\n\t\n\t// 判断矩形是否在象限范围内——溢出即全部在象限外时返回false\n\tfunction isInner(rect, bounds) {\n\t\treturn rect.x + rect.width >= bounds.x && rect.y + rect.height >= bounds.y && rect.x - rect.width <= bounds.x + bounds.width && rect.y - rect.height <= bounds.y + bounds.height;\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _BossSprite = __webpack_require__(5);\n\t\n\tvar _BossSprite2 = _interopRequireDefault(_BossSprite);\n\t\n\tvar _PlayerSprite = __webpack_require__(7);\n\t\n\tvar _PlayerSprite2 = _interopRequireDefault(_PlayerSprite);\n\t\n\tvar _QuadTree = __webpack_require__(8);\n\t\n\tvar _QuadTree2 = _interopRequireDefault(_QuadTree);\n\t\n\tvar _Rect = __webpack_require__(2);\n\t\n\tvar _Rect2 = _interopRequireDefault(_Rect);\n\t\n\t__webpack_require__(14);\n\t\n\tvar _resouce = __webpack_require__(13);\n\t\n\tvar _resouce2 = _interopRequireDefault(_resouce);\n\t\n\tvar _setting = __webpack_require__(1);\n\t\n\tvar _setting2 = _interopRequireDefault(_setting);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t{\n\t\t(function () {\n\t\t\tvar lastTime = 0;\n\t\t\tvar vendors = ['ms', 'moz', 'webkit', 'o'];\n\t\t\tfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; x++) {\n\t\t\t\twindow.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n\t\t\t\twindow.cancelAnimationFrame = window[vendors[x] + 'CancelRequestAnimationFrame'];\n\t\t\t}\n\t\t\tif (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function () {\n\t\t\t\t\tcallback(currTime + timeToCall);\n\t\t\t\t}, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tif (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n\t\t\t\tclearTimeout(id);\n\t\t\t};\n\t\t})();\n\t}\n\t\n\tvar SYS = {\n\t\tCollision: null,\n\t\tRender: null,\n\t\tLoader: null,\n\t\tControl: null,\n\t\tResource: null,\n\t\tSetting: null,\n\t\tDom: null\n\t};\n\t\n\tSYS.Loader = {\n\t\tlayer: null,\n\t\tloaded: true,\n\t\tloadedCount: 0,\n\t\ttotalCount: 0,\n\t\tsoundFileExtn: '.ogg',\n\t\tinit: function init(layer) {\n\t\t\tvar mp3Support = void 0,\n\t\t\t    oggSupport = void 0;\n\t\t\tvar audio = document.createElement('audio');\n\t\t\tif (audio.canPlayType) {\n\t\t\t\tmp3Support = '' != audio.canPlayType('audio/mpeg');\n\t\t\t\toggSupport = '' != audio.canPlayType('audio/ogg; codecs = \"vorbis\"');\n\t\t\t} else {\n\t\t\t\tmp3Support = false;\n\t\t\t\toggSupport = false;\n\t\t\t}\n\t\t\tthis.soundFileExtn = oggSupport ? '.ogg' : mp3Support ? '.mp3' : undefined;\n\t\t\tthis.layer = layer;\n\t\t},\n\t\titemLoaded: function itemLoaded() {\n\t\t\tthis.loadedCount++;\n\t\t\tif (this.loadedCount === this.totalCount) {\n\t\t\t\tthis.loaded = true;\n\t\t\t\tthis.layer.style.display = 'none';\n\t\t\t\tif (this.onload) {\n\t\t\t\t\tthis.onload();\n\t\t\t\t\tthis.onload = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tloadImages: function loadImages(url) {\n\t\t\tvar _this2 = this;\n\t\n\t\t\tthis.totalCount++;\n\t\t\tthis.loaded = false;\n\t\t\tthis.layer.style.display = 'block';\n\t\n\t\t\tvar img = new Image();\n\t\t\timg.src = url;\n\t\t\timg.onload = function () {\n\t\t\t\treturn _this2.itemLoaded();\n\t\t\t};\n\t\t\treturn img;\n\t\t},\n\t\tloadSound: function loadSound(url) {\n\t\t\tthis.totalCount++;\n\t\t\tthis.loaded = false;\n\t\t\tthis.layer.style.display = 'block';\n\t\t\tvar audio = new Audio();\n\t\t\taudio.src = url + this.soundFileExtn;\n\t\t\taudio.addEventListener('canplaythrough', this.itemLoaded, false);\n\t\t\treturn audio;\n\t\t}\n\t};\n\t\n\tSYS.Control = {\n\t\tstartPos: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t},\n\t\tmovePos: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t},\n\t\teventList: [],\n\t\tcallbackList: [],\n\t\taddHandler: function addHandler(element, type, Func) {\n\t\t\tif (element.addEventListener) element.addEventListener(type, Func, false);else if (element.attachEvent) element.attachEvent('on' + type, Func);else element['on' + type] = Func;\n\t\t},\n\t\tinit: function init(element) {\n\t\t\tvar _this3 = this;\n\t\n\t\t\telement = element || document;\n\t\t\tvar start = 'ontouchstart' in document ? 'touchstart' : 'mousedown';\n\t\t\tvar move = 'ontouchmove' in document ? 'touchmove' : 'mousemove';\n\t\t\tvar end = 'ontouchend' in document ? 'touchend' : 'mouseup';\n\t\t\tvar startFunc = function startFunc(ev) {\n\t\t\t\tev = ev || window.event;\n\t\t\t\tvar pos = 'ontouchstart' in document ? ev.touches[0] : ev;\n\t\t\t\t_this3.startPos = {\n\t\t\t\t\t'x': pos.pageX,\n\t\t\t\t\t'y': pos.pageY\n\t\t\t\t};\n\t\t\t\t_this3.movePos = _this3.startPos;\n\t\t\t};\n\t\t\tvar moveFunc = function moveFunc(ev) {\n\t\t\t\tev = ev || window.event;\n\t\t\t\tvar pos = 'ontouchstart' in document ? ev.touches[0] : ev;\n\t\t\t\t_this3.movePos = {\n\t\t\t\t\t'x': pos.pageX,\n\t\t\t\t\t'y': pos.pageY\n\t\t\t\t};\n\t\t\t\tev.preventDefault();\n\t\t\t};\n\t\t\tvar endFunc = function endFunc(ev) {\n\t\t\t\tev = ev || event;\n\t\t\t\tfor (var i = 0, length = _this3.eventList.length; i < length; i++) {\n\t\t\t\t\t_this3.event[_this3.eventList[i]](_this3.callbackList[i].cb, _this3, ev);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addHandler(element, start, startFunc);\n\t\t\tthis.addHandler(element, move, moveFunc);\n\t\t\tthis.addHandler(element, end, endFunc);\n\t\t},\n\t\ton: function on(event, callback) {\n\t\t\tthis.eventList.push(event);\n\t\t\tthis.callbackList.push({\n\t\t\t\tcb: callback\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\t\n\t\tevent: {\n\t\t\ttap: function tap(callback, _this, ev) {\n\t\t\t\t//if (_this.movePose)\n\t\t\t\tif (Math.abs(_this.movePos.x - _this.startPos.x) > 1 || Math.abs(_this.movePos.y - _this.startPos.y) > 1) return;\n\t\t\t\tcallback(ev);\n\t\t\t},\n\t\t\tswipe: function swipe(callback, _this, ev) {\n\t\t\t\t//if (!_this.movePose) return;\n\t\t\t\tcallback(ev);\n\t\t\t\treturn _this.movePos = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\tSYS.Collision = {\n\t\tTree: null,\n\t\tinit: function init(tree) {\n\t\t\tthis.Tree = tree;\n\t\t},\n\t\tcheck: function check(collider, collidee) {\n\t\t\tvar distX = Math.abs(collider.cx - collidee.cx);\n\t\t\tvar distY = Math.abs(collider.cy - collidee.cy);\n\t\t\tif (distX < (collider.width + collidee.width) / 2 && distY < (collider.height + collidee.height) / 2) return true;else return false;\n\t\t}\n\t};\n\t\n\tSYS.Render = {\n\t\tcanvas: null,\n\t\tctx: null,\n\t\trenderWidth: 0,\n\t\trenderHeight: 0,\n\t\tQueue: [],\n\t\tinit: function init(canvas) {\n\t\t\tthis.canvas = canvas;\n\t\t\tthis.ctx = canvas.getContext('2d');\n\t\t\tthis.renderWidth = canvas.width;\n\t\t\tthis.renderHeight = canvas.height;\n\t\t},\n\t\tadd: function add(item) {\n\t\t\tthis.Queue = this.Queue.concat(item);\n\t\t},\n\t\tempty: function empty() {\n\t\t\tthis.Queue = [];\n\t\t},\n\t\tclear: function clear() {\n\t\t\tthis.ctx.clearRect(0, 0, this.renderWidth, this.renderHeight);\n\t\t},\n\t\trender: function render() {\n\t\t\tvar _this4 = this;\n\t\n\t\t\tthis.Queue.forEach(function (item) {\n\t\t\t\titem.go();\n\t\t\t\titem.draw(_this4.ctx);\n\t\t\t});\n\t\t}\n\t};\n\tSYS.Dom = {\n\t\tscorelayer: document.getElementById('score-layer'),\n\t\tmenulayer: document.getElementById('menu-layer'),\n\t\tresetlayer: document.getElementById('reset-layer'),\n\t\tloadlayer: document.getElementById('load-layer'),\n\t\tbglayer: document.getElementById('bg-layer'),\n\t\tcanvas: document.getElementById('draw-target'),\n\t\tbgcanvas: document.getElementById('bg-target'),\n\t\tscore: document.getElementById('score')\n\t};\n\tSYS.Resource = {\n\t\timages: {},\n\t\tsounds: {}\n\t};\n\tvar Game = {\n\t\tRAF: null,\n\t\tstart: function start() {\n\t\t\tvar _this5 = this;\n\t\n\t\t\tSYS.Dom.canvas.width = document.documentElement.clientWidth;\n\t\t\tSYS.Dom.canvas.height = document.documentElement.clientHeight;\n\t\t\tSYS.Dom.canvas.backgroundAlpha = 0;\n\t\t\tSYS.Dom.bgcanvas.width = document.documentElement.clientWidth;\n\t\t\tSYS.Dom.bgcanvas.height = document.documentElement.clientHeight;\n\t\n\t\t\t//创建一个四叉树,并将屏幕上的所有物体都插入到这个四叉树中\n\t\t\tvar Tree = new _QuadTree2.default(new _Rect2.default(0, 0, SYS.Dom.canvas.width, SYS.Dom.canvas.height));\n\t\n\t\t\tSYS.Collision.init(Tree);\n\t\t\tSYS.Render.init(SYS.Dom.canvas);\n\t\t\tSYS.Control.init(document);\n\t\t\tSYS.Loader.init(SYS.Dom.loadlayer);\n\t\n\t\t\tSYS.Resource.images.all = SYS.Loader.loadImages(_resouce2.default.images.ALL);\n\t\t\tSYS.Resource.images.player = SYS.Loader.loadImages(_resouce2.default.images.PLAYER);\n\t\t\tSYS.Resource.images.explosion = SYS.Loader.loadImages(_resouce2.default.images.EXPLOSION);\n\t\t\tSYS.Resource.images.bg = SYS.Loader.loadImages(_resouce2.default.images.BG);\n\t\n\t\t\tSYS.Loader.onload = function () {\n\t\t\t\treturn _this5.play();\n\t\t\t};\n\t\t},\n\t\tplay: function play() {\n\t\t\tvar _this6 = this;\n\t\n\t\t\tvar resultArr = [];\n\t\t\tvar boss = new _BossSprite2.default(SYS.Resource.images.all, SYS.Render.renderWidth / 2, SYS.Render.renderHeight / 5, _setting2.default.Boss[0]),\n\t\t\t    player = new _PlayerSprite2.default(SYS.Resource.images.player, SYS.Render.renderWidth / 2, SYS.Render.renderHeight, _setting2.default.Player[0]);\n\t\n\t\t\tSYS.Dom.bgcanvas.getContext('2d').drawImage(SYS.Resource.images.bg, 0, 0, SYS.Dom.bgcanvas.width, SYS.Dom.bgcanvas.height);\n\t\n\t\t\tvar tree = SYS.Collision.Tree;\n\t\t\tvar img_all = SYS.Resource.images.explosion;\n\t\t\ttree.insert(boss);\n\t\n\t\t\tFPS.init();\n\t\t\tvar loop = function loop() {\n\t\t\t\t_this6.RAF = window.requestAnimationFrame(loop);\n\t\t\t\tboss.fire(tree);\n\t\t\t\tplayer.fire(tree);\n\t\n\t\t\t\tplayer.move(SYS.Control.movePos.x, SYS.Control.movePos.y);\n\t\n\t\t\t\t// 筛选物体集合并进行碰撞检测\n\t\t\t\tresultArr = tree.retrieve(player);\n\t\t\t\tresultArr.forEach(function (result) {\n\t\t\t\t\t// norrow phase部分的碰撞检测...\n\t\t\t\t\tif (!result.removed && !result.undead) {\n\t\t\t\t\t\tif (result.owner !== 'player' && SYS.Collision.check(player, result)) {\n\t\t\t\t\t\t\tresult.destroy(img_all, tree);\n\t\t\t\t\t\t\tplayer.hit();\n\t\t\t\t\t\t\tif (player.HP <= 0) {\n\t\t\t\t\t\t\t\tplayer.destroy(img_all, tree);\n\t\t\t\t\t\t\t\tplayer.ceasefire();\n\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\tSYS.Dom.resetlayer.style.display = 'block';\n\t\t\t\t\t\t\t\t\twindow.cancelAnimationFrame(_this6.RAF);\n\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (result.owner === 'player' && SYS.Collision.check(boss, result)) {\n\t\t\t\t\t\t\tresult.destroy(img_all, tree);\n\t\t\t\t\t\t\tboss.hit();\n\t\t\t\t\t\t\tSYS.Dom.score.innerHTML = parseInt(SYS.Dom.score.innerHTML) + 100;\n\t\t\t\t\t\t\tif (boss.HP <= 0) {\n\t\t\t\t\t\t\t\tboss.destroy(img_all, tree);\n\t\t\t\t\t\t\t\tboss.ceasefire();\n\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\tSYS.Dom.resetlayer.style.display = 'block';\n\t\t\t\t\t\t\t\t\twindow.cancelAnimationFrame(_this6.RAF);\n\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresultArr = SYS.Collision.Tree.refresh();\n\t\t\t\tSYS.Render.add(player);\n\t\t\t\tSYS.Render.add(resultArr);\n\t\t\t\tSYS.Render.clear();\n\t\t\t\tSYS.Render.render();\n\t\t\t\tSYS.Render.empty();\n\t\n\t\t\t\tFPS.show();\n\t\t\t};\n\t\t\tthis.RAF = window.requestAnimationFrame(loop);\n\t\n\t\t\tSYS.Control.on('tap', function (ev) {\n\t\t\t\tev = ev || window.event;\n\t\t\t\tvar elem = ev.srcElement || ev.target;\n\t\t\t\tif (elem.id == 'reset') _this6.reset();\n\t\t\t});\n\t\t},\n\t\treset: function reset() {\n\t\t\twindow.cancelAnimationFrame(this.RAF);\n\t\t\tSYS.Render.clear();\n\t\t\tSYS.Render.empty();\n\t\t\tSYS.Dom.score.innerHTML = '0';\n\t\t\tSYS.Dom.resetlayer.style.display = 'none';\n\t\t\tSYS.Collision.Tree.clear();\n\t\t\tthis.play();\n\t\t},\n\t\tend: function end() {}\n\t};\n\tvar FPS = {\n\t\tlayer: null,\n\t\tstartTime: null,\n\t\tendTime: null,\n\t\tframe: 0,\n\t\tinit: function init() {\n\t\t\tthis.startTime = +new Date();\n\t\t\tthis.layer = document.getElementById('fps');\n\t\t},\n\t\tshow: function show() {\n\t\t\tthis.endTime = +new Date();\n\t\t\tthis.frame = Math.round(1000 / (this.endTime - this.startTime));\n\t\t\tthis.startTime = this.endTime;\n\t\t\tthis.layer.innerHTML = this.frame;\n\t\t}\n\t};\n\t\n\tGame.start();\n\n/***/ },\n/* 10 */,\n/* 11 */,\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = Anime;\n\tfunction Anime(sprite, index, total, timeout, tree) {\n\t\tvar timer = void 0;\n\t\t(function motion() {\n\t\t\tif (index >= total) {\n\t\t\t\tsprite.removed = true;\n\t\t\t\tsprite.undead = false;\n\t\t\t\tclearTimeout(timer);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsprite.change(++index);\n\t\t\ttree.insert(sprite);\n\t\t\ttimer = setTimeout(motion, timeout);\n\t\t})();\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _all = __webpack_require__(16);\n\t\n\tvar _all2 = _interopRequireDefault(_all);\n\t\n\tvar _player = __webpack_require__(19);\n\t\n\tvar _player2 = _interopRequireDefault(_player);\n\t\n\tvar _explosion = __webpack_require__(18);\n\t\n\tvar _explosion2 = _interopRequireDefault(_explosion);\n\t\n\tvar _bg = __webpack_require__(17);\n\t\n\tvar _bg2 = _interopRequireDefault(_bg);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\timages: {\n\t\t\tALL: _all2.default,\n\t\t\tPLAYER: _player2.default,\n\t\t\tEXPLOSION: _explosion2.default,\n\t\t\tBG: _bg2.default\n\t\t},\n\t\tsounds: []\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 15 */,\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"images/all.png\";\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"images/bg.png\";\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"images/explosion.png\";\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"images/player.png\";\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** js/game.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0fe25b2a8210f33f2911\n **/","module.exports = {\n\t\"Emitter\": [\n\t\t{\n\t\t\t\"orignX\": 36,\n\t\t\t\"orignY\": 64,\n\t\t\t\"orignWidth\": 6,\n\t\t\t\"orignHeight\": 14,\n\t\t\t\"speed\": 20,\n\t\t\t\"number\": 15,\n\t\t\t\"limit\": 5,\n\t\t\t\"spacing\": 100,\n\t\t\t\"timeout\": 500,\n\t\t\t\"propulsiontype\": \"line\",\n\t\t\t\"type\": \"circle\"\n\t\t},\n\t\t{\n\t\t\t\"orignX\": 64,\n\t\t\t\"orignY\": 448,\n\t\t\t\"orignWidth\": 64,\n\t\t\t\"orignHeight\": 64,\n\t\t\t\"speed\": 2,\n\t\t\t\"number\": 15,\n\t\t\t\"limit\": 5,\n\t\t\t\"spacing\": 50,\n\t\t\t\"timeout\": 500,\n\t\t\t\"propulsiontype\": \"circle\",\n\t\t\t\"type\": \"circle\"\n\t\t},\n\t\t{\n\t\t\t\"orignX\": 32,\n\t\t\t\"orignY\": 32,\n\t\t\t\"orignWidth\": 16,\n\t\t\t\"orignHeight\": 16,\n\t\t\t\"speed\": 5,\n\t\t\t\"number\": 15,\n\t\t\t\"limit\": 5,\n\t\t\t\"spacing\": 50,\n\t\t\t\"timeout\": 1500,\n\t\t\t\"propulsiontype\": \"circle\",\n\t\t\t\"type\": \"circle\"\n\t\t},\n\t\t{\n\t\t\t\"orignX\": 128,\n\t\t\t\"orignY\": 208,\n\t\t\t\"orignWidth\": 32,\n\t\t\t\"orignHeight\": 32,\n\t\t\t\"speed\": 10,\n\t\t\t\"number\": 25,\n\t\t\t\"limit\": 5,\n\t\t\t\"spacing\": 50,\n\t\t\t\"timeout\": 1500,\n\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\"type\": \"circle\"\n\t\t},\n\t\t{\n\t\t\t\"orignX\": 192,\n\t\t\t\"orignY\": 256,\n\t\t\t\"orignWidth\": 32,\n\t\t\t\"orignHeight\": 32,\n\t\t\t\"speed\": 10,\n\t\t\t\"number\": 9,\n\t\t\t\"limit\": 5,\n\t\t\t\"spacing\": 50,\n\t\t\t\"timeout\": 1500,\n\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\"type\": \"circle\"\n\t\t},\n\t\t{\n\t\t\t\"orignX\": 64,\n\t\t\t\"orignY\": 448,\n\t\t\t\"orignWidth\": 64,\n\t\t\t\"orignHeight\": 64,\n\t\t\t\"speed\": 10,\n\t\t\t\"number\": 6,\n\t\t\t\"limit\": 5,\n\t\t\t\"spacing\": 50,\n\t\t\t\"timeout\": 1500,\n\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\"type\": \"circle\"\n\t\t},\n\t\t{\n\t\t\t\"orignX\": 32,\n\t\t\t\"orignY\": 32,\n\t\t\t\"orignWidth\": 16,\n\t\t\t\"orignHeight\": 16,\n\t\t\t\"speed\": 10,\n\t\t\t\"number\": 15,\n\t\t\t\"limit\": 5,\n\t\t\t\"spacing\": 50,\n\t\t\t\"timeout\": 1500,\n\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\"type\": \"circle\"\n\t\t},\n\t\t{\n\t\t\t\"orignX\": 32,\n\t\t\t\"orignY\": 32,\n\t\t\t\"orignWidth\": 16,\n\t\t\t\"orignHeight\": 16,\n\t\t\t\"speed\": 10,\n\t\t\t\"number\": 15,\n\t\t\t\"limit\": 5,\n\t\t\t\"spacing\": 50,\n\t\t\t\"timeout\": 1500,\n\t\t\t\"propulsiontype\": \"test\",\n\t\t\t\"type\": \"circle\"\n\t\t}\n\t],\n\t\"Explosion\": [\n\t\t{\n\t\t\t\"orignX\": 0,\n\t\t\t\"orignY\": 0,\n\t\t\t\"orignWidth\": 62,\n\t\t\t\"orignHeight\": 63\n\t\t}\n\t],\n\t\"Boss\": [\n\t\t{\n\t\t\t\"orignX\": 0,\n\t\t\t\"orignY\": 1712,\n\t\t\t\"orignWidth\": 48,\n\t\t\t\"orignHeight\": 48,\n\t\t\t\"HP\": 10\n\t\t}\n\t],\n\t\"Player\": [\n\t\t{\n\t\t\t\"orignX\": 0,\n\t\t\t\"orignY\": 294,\n\t\t\t\"orignWidth\": 90,\n\t\t\t\"orignHeight\": 90,\n\t\t\t\"HP\": 5\n\t\t}\n\t]\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/setting.json\n ** module id = 1\n ** module chunks = 0\n **/","/*\n\t矩形对象||碰撞对象\n*/\nexport default\nclass Rect {\n\tconstructor(x, y, width, height) {\n\t\tObject.assign(this, {\n\t\t\tx: x,\n\t\t\ty: y,\n\t\t\tcx: x + width / 2,\n\t\t\tcy: y + height / 2,\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\thalfWidth: width / 2,\n\t\t\thalfHeight: height / 2\n\t\t});\n\t}\n\tmove(cx, cy) {\n\t\tthis.x = cx - this.halfWidth;\n\t\tthis.y = cy - this.halfHeight;\n\t\tthis.cx = cx;\n\t\tthis.cy = cy;\n\t}\n\tresize(per) {\n\t\tthis.width *= per;\n\t\tthis.height *= per;\n\t\tthis.halfWidth *= per;\n\t\tthis.halfHeight *= per;\n\t}\n\tcarve(bounds) {\n\t\tlet result = [],\n\t\t\ttemp = [],\n\t\t\tcx = bounds.cx,\n\t\t\tcy = bounds.cy,\n\t\t\tdx = cx - this.x,\n\t\t\tdy = cy - this.y,\n\t\t\tcarveX = dx > 0 && dx < this.width,\n\t\t\tcarveY = dy > 0 && dy < this.height;\n\n\t\tif (carveX && carveY) { // 切割XY方向\n\t\t\ttemp = this.carve(cx, this.y);\n\t\t\twhile (temp.length) {\n\t\t\t\tresult = result.concat(temp.shift().carve(this.x, cy));\n\t\t\t}\n\t\t} else if (carveX) { // 只切割X方向\n\t\t\tresult.push(\n\t\t\t\tnew Rect(this.x, this.y, dx, this.height),\n\t\t\t\tnew Rect(cx, this.y, this.width - dx, this.height)\n\t\t\t);\n\t\t} else if (carveY) { // 只切割Y方向\n\t\t\tresult.push(\n\t\t\t\tnew Rect(this.x, this.y, this.width, dy),\n\t\t\t\tnew Rect(this.x, cy, this.width, this.height - dy)\n\t\t\t);\n\t\t}\n\n\t\treturn result;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/class/Rect.js\n **/","import Rect from './Rect';\nimport Anime from '../lib/anime';\nimport setting from '../setting';\n\nexport default\nclass Sprite extends Rect {\n\tconstructor(img, config) { //初始化映射目标，映射坐标，映射宽高\torignX, orignY, width, height\n\t\tsuper(0, 0, config.orignWidth, config.orignHeight);\n\n\t\tObject.assign(this, {\n\t\t\timg: img,\n\t\t\torignX: config.orignX,\n\t\t\torignY: config.orignY,\n\t\t\torignWidth: config.orignWidth,\n\t\t\torignHeight: config.orignHeight,\n\t\t\tmapX: config.orignX,\n\t\t\tmapY: config.orignY,\n\t\t\tmapWidth: config.orignWidth,\n\t\t\tmapHeight: config.orignHeight,\n\t\t\tremoved: false,\n\t\t\tundead: false\n\t\t});\n\t}\n\n\tdraw(ctx) {\n\t\tctx.drawImage(this.img, this.orignX, this.orignY, this.orignWidth, this.orignHeight, this.cx - this.mapWidth / 2, this.cy - this.mapHeight / 2, this.mapWidth, this.mapHeight);\n\t}\n\tchange(index) {\n\t\tthis.orignX = Math.round(index * this.orignWidth);\n\t}\n\tremap(per) {\n\t\tthis.mapWidth *= per;\n\t\tthis.mapHeight *= per;\n\t}\n\tname(name) { //测试\n\t\tthis.name = name;\n\t}\n\tgo() {\n\n\t}\n\tdestroy(img, tree) {\n\t\tlet exp = new Sprite(img, setting.Explosion[0]);\n\t\texp.move(this.cx, this.cy);\n\t\texp.undead = true;\n\t\tAnime(exp, 0, 15, 75, tree);\n\t\tthis.removed = true;\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/class/Sprite.js\n **/","import Sprite from './Sprite';\n\nexport default\nclass Bullet extends Sprite {\n\tconstructor(img, cx, cy, config) {\n\t\tsuper(img, config);\n\n\t\tsuper.move(cx, cy);\n\n\t\tObject.assign(this, {\n\t\t\tangle: 0,\n\t\t\tdist: 0,\n\t\t\tpropulsiontype: null\n\t\t});\n\t}\n\tset(angle, dist, propulsiontype) {\n\t\tthis.angle = angle;\n\t\tthis.dist = dist;\n\t\tthis.propulsiontype = propulsiontype;\n\t}\n\tgo() {\n\t\tthis[this.propulsiontype](this.angle, this.dist);\n\t}\n\tmotion(distX, distY) {\n\t\tthis.cx += distX;\n\t\tthis.cy += distY;\n\t\tthis.x += distX;\n\t\tthis.y += distY;\n\t}\n\tgravity() {\n\t\tthis.cy += 5;\n\t\tthis.y += 5;\n\t}\n\tline (distX, distY) {\n\t\tthis.motion(distX, distY);\n\t}\n\tcircle(angle, dist) {\n\t\tlet distX = Math.round(Math.sin(angle) * dist);\n\t\tlet distY = Math.round(Math.cos(angle) * dist);\n\t\t//this.gravity();\n\t\tthis.motion(distX, distY);\n\t}\n\ttest(angle, dist) {\n\t\tlet distX = Math.round(Math.sin(angle) * dist);\n\t\tlet distY = Math.round(Math.sqrt(dist));\n\t\t//let distY = -Math.round(Math.log(distX));\n\t\tthis.motion(distX, distY);\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/class/BulletSprite.js\n **/","import Sprite from './Sprite';\nimport Emitter from './Emitter';\nimport setting from '../setting';\n\nfunction rand(min, max) {\n\treturn Math.floor(Math.random() * (max - min) + min);\n}\n\nexport default\nclass Boss extends Sprite {\n\tconstructor(img, cx, cy, config) {\n\t\tsuper(img, config);\n\n\t\tconst emitterConfig = setting.Emitter[2];\n\n\t\tthis.emitterConfig = emitterConfig;\n\t\t\n\t\tsuper.remap(2.5);\n\t\tsuper.resize(2);\n\t\tsuper.move(cx, cy);\n\n\t\tthis.HP = config.HP;\n\t\tthis.emitter = {\n\t\t\tmain: new Emitter(img, cx, cy),\n\t\t\tspeed: emitterConfig.speed,\n\t\t\tnum: emitterConfig.number,\n\t\t\tlimit: emitterConfig.limit,\n\t\t\tspacing: emitterConfig.spacing,\n\t\t\ttimeout: emitterConfig.timeout,\n\t\t\ttype: emitterConfig.type,\n\t\t\tdist: 0\n\t\t};\n\t\tthis.fireTimes = 0;\n\t\tthis.fireSwitch = true;\n\t}\n\tsetEmitter(emitterConfig) {\n\t\tObject.assign(this.emitter, emitterConfig);\n\t}\n\tfire(tree) {\n\t\tif (!this.fireSwitch)\n\t\t\treturn;\n\n\t\tif (this.emitter.dist < this.emitter.spacing) {\t\t\t//当间距达到了限定值才允许射击\n\t\t\treturn this.emitter.dist += this.emitter.speed;\n\t\t} else {\n\t\t\tthis.emitter.dist = 0;\n\t\t}\n\n\t\tif (this.fireTimes > this.emitter.limit) {\t\t//当开火次数到一轮攻击的上限，关闭开火阀门，两秒后打开\n\t\t\tthis.emitterConfig = setting.Emitter[rand(1, setting.Emitter.length)];\t//type[0]\n\t\t\tthis.setEmitter(this.emitterConfig);\n\t\t\tthis.fireTimes = 0;\n\t\t\tthis.fireSwitch = false;\n\t\t\treturn setTimeout(() => {\n\t\t\t\tthis.fireSwitch = true;\n\t\t\t},this.emitter.timeout);\n\t\t} else {\n\t\t\tthis.fireTimes++;\n\t\t}\n\t\tthis.emitter.main[this.emitter.type](this.emitterConfig, tree);\n\t}\n\tceasefire() {\n\t\tthis.fire = new Function();\n\t}\n\thit() {\n\t\tthis.HP--;\n\t}\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/class/BossSprite.js\n **/","import Bullet from './BulletSprite';\n\nexport default\nclass Emitter {\n\tconstructor(img, cx, cy) {\n\t\tthis.img = img;\n\t\tthis.cx = cx;\n\t\tthis.cy = cy;\n\t}\n\tcircle(emitterConfig, tree) {\n\t\tlet number, speed, propulsiontype, angle, blt;\n\n\t\tnumber = emitterConfig.number;\t//9\n\t\tspeed = emitterConfig.speed;\t//15\n\t\tpropulsiontype = emitterConfig.propulsiontype;\n\t\t\n\t\tfor (let i = 1; i < number + 1; ++i) {\n\t\t\tangle = Math.PI * 2 * i / number;\n\n\t\t\tblt = new Bullet(this.img, this.cx, this.cy, emitterConfig);\n\t\t\tblt.owner = 'boss';\n\t\t\tblt.set(angle, speed, propulsiontype);\n\t\t\ttree.insert(blt);\n\t\t}\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/class/Emitter.js\n **/","import Sprite from './Sprite';\nimport Bullet from './BulletSprite';\nimport setting from '../setting';\n\nexport default\nclass Player extends Sprite {\n\tconstructor(img, cx, cy, config) {\n\t\tsuper(img, config);\n\n\t\tsuper.move(cx, cy);\n\t\tsuper.resize(0.8);\n\n\n\t\tconst EmitterConfig = setting.Emitter[0]; //type[1]\n\t\tthis.HP = config.HP;\n\t\tthis.emitter = {\n\t\t\timg: img,\n\t\t\tspeed: EmitterConfig.speed,\n\t\t\tnum: EmitterConfig.number,\n\t\t\tlimit: EmitterConfig.limit,\n\t\t\ttimeout: EmitterConfig.timeout,\n\t\t\tpropulsiontype: EmitterConfig.propulsiontype,\n\t\t\ttype: EmitterConfig.type,\n\t\t\tspacing: 100,\n\t\t\tdist: 0\n\t\t};\n\t}\n\tfire(tree) {\n\t\tthis.emitter.dist += this.emitter.speed;\n\t\tif (this.emitter.dist < this.emitter.spacing) { //当间距达到了限定值才允许射击\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis.emitter.dist = 0;\n\t\t}\n\n\t\tlet blt = new Bullet(this.img, this.cx, this.cy, setting.Emitter[0]);\n\t\tblt.owner = 'player';\n\n\t\tblt.set(1, -this.emitter.speed, this.emitter.propulsiontype);\n\n\t\ttree.insert(blt);\n\t}\n\thit() {\n\t\tthis.HP--;\n\t}\n\tceasefire() {\n\t\tthis.fire = new Function();\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/class/PlayerSprite.js\n **/","/*\n\t四叉碰撞树\n\t1.内容来自CSDN & 百度文库，感谢分享\n\t2.CSDN内容略有错误，参照百度文库内容修改了部分\n\t3.自行修改了部分代码，添加了些许功能\n*/\nimport Rect from './Rect';\n/* \n\t四叉树节点包含：\n\t- objects: 用于存储物体对象\n\t- nodes: 存储四个子节点\n\t- level: 该节点的深度，根节点的默认深度为0\n\t- bounds: 该节点对应的象限在屏幕上的范围，bounds是一个矩形\n*/\nexport default\nclass QuadTree {\n\tconstructor(bounds, level) {\n\t\tthis.objects = [];\n\t\tthis.nodes = [];\n\t\tthis.level = typeof level === 'undefined' ? 0 : level;\n\t\tthis.bounds = bounds;\n\t}\n\n\t/* \n\t\t获取物体对应的象限序号，以屏幕中心为界限，切割屏幕:\n\t\t- 右上：象限一\n\t\t- 左上：象限二\n\t\t- 左下：象限三\n\t\t- 右下：象限四\n\t*/\n\t// 清空子节点\n\tclear() {\n\t\tlet nodes = this.nodes,\n\t\t\tsubnode;\n\t\tthis.objects.splice(0, this.objects.length);\n\t\twhile (nodes.length) {\n\t\t\tsubnode = nodes.shift();\n\t\t\tsubnode.clear();\n\t\t}\n\t}\n\tgetIndex(rect) {\n\t\tlet bounds = this.bounds,\n\t\t\tonTop = rect.y + rect.height <= bounds.cy,\n\t\t\tonBottom = rect.y >= bounds.cy,\n\t\t\tonLeft = rect.x + rect.width <= bounds.cx,\n\t\t\tonRight = rect.x >= bounds.cx;\n\n\t\t//if (!isInner) return -1;\n\n\t\tif (onTop) {\n\t\t\tif (onRight) {\n\t\t\t\treturn 0;\n\t\t\t} else if (onLeft) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t} else if (onBottom) {\n\t\t\tif (onLeft) {\n\t\t\t\treturn 2;\n\t\t\t} else if (onRight) {\n\t\t\t\treturn 3;\n\t\t\t}\n\t\t}\n\n\t\t// 如果物体跨越多个象限，则放回-1\n\t\treturn -1;\n\t}\n\t// 划分\n\tsplit() {\n\t\tlet level = this.level,\n\t\t\tbounds = this.bounds,\n\t\t\tx = bounds.x, //0\n\t\t\ty = bounds.y, //0\n\t\t\tcx = bounds.cx,\n\t\t\tcy = bounds.cy,\n\t\t\tsWidth = bounds.width / 2, //360/2=180\n\t\t\tsHeight = bounds.height / 2; //640/2=320\n\n\t\tthis.nodes.push(\n\t\t\tnew QuadTree(new Rect(cx, y, sWidth, sHeight), level + 1),\n\t\t\tnew QuadTree(new Rect(x, y, sWidth, sHeight), level + 1),\n\t\t\tnew QuadTree(new Rect(x, cy, sWidth, sHeight), level + 1),\n\t\t\tnew QuadTree(new Rect(cx, cy, sWidth, sHeight), level + 1)\n\t\t);\n\t}\n\t/*\n\t\t插入功能：\n\t\t\t- 如果当前节点[ 存在 ]子节点，则检查物体到底属于哪个子节点，如果能匹配到子节点，则将该物体插入到该子节点中\n\t\t\t- 如果当前节点[ 不存在 ]子节点，将该物体存储在当前节点。随后，检查当前节点的存储数量，如果超过了最大存储数量，则对当前节点进行划分，划分完成后，将当前节点存储的物体重新分配到四个子节点中。\n\t*/\n\tinsert(rect) {\n\t\tlet objs = this.objects,\n\t\t\ti, index;\n\n\t\t// 如果该节点下存在子节点\n\t\tif (this.nodes.length) {\n\t\t\tindex = this.getIndex(rect);\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.nodes[index].insert(rect);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// 否则存储在当前节点下\n\t\tobjs.push(rect);\n\n\t\t// 如果当前节点存储的数量超过了MAX_OBJECTS\n\t\tif (!this.nodes.length &&\n\t\t\tthis.objects.length > this.MAX_OBJECTS &&\n\t\t\tthis.level < this.MAX_LEVELS) {\n\n\t\t\tthis.split();\n\n\t\t\tfor (i = objs.length - 1; i >= 0; i--) {\n\t\t\t\tindex = this.getIndex(objs[i]);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tthis.nodes[index].insert(objs.splice(i, 1)[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/*\n\t\t检索功能：\n\t\t\t给出一个物体对象，该函数负责将该物体可能发生碰撞的所有物体选取出来。该函数先查找物体所属的象限，该象限下的物体都是有可能发生碰撞的，然后再递归地查找子象限...\n\t*/\n\tretrieve(rect) {\n\t\tlet result = [],\n\t\t\tarr, i, index;\n\n\t\tif (this.nodes.length) {\n\t\t\tindex = this.getIndex(rect); //获得区域编号\n\t\t\tif (index !== -1) { //如果在边界线上\n\t\t\t\tresult = result.concat(this.nodes[index].retrieve(rect)); //查找子节点并将结果合并到result\n\t\t\t} else {\n\t\t\t\t// 切割矩形\n\t\t\t\tarr = rect.carve(this.bounds);\n\t\t\t\tfor (i = arr.length - 1; i >= 0; i--) {\n\t\t\t\t\tindex = this.getIndex(arr[i]);\n\t\t\t\t\tif (index === -1) break;\n\t\t\t\t\tresult = result.concat(this.nodes[index].retrieve(rect));\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tresult = result.concat(this.objects);\n\n\t\treturn result;\n\t}\n\n\t/*\n\t\t动态更新：\n\t\t\t从根节点深入四叉树，检查四叉树各个节点存储的物体是否依旧属于该节点（象限）的范围之内，如果不属于，则重新插入该物体。\n\t*/\n\trefresh(root) {\n\t\tlet objs = this.objects,\n\t\t\tresult = [],\n\t\t\trect, index, i, len;\n\n\t\troot = root || this;\n\n\t\tfor (i = objs.length - 1; i >= 0; i--) {\n\t\t\trect = objs[i];\t\t\t\t\t\t//rect为objs的基类\n\t\t\tif (rect.removed || !isInner(rect, root.bounds)) {\t//当sprite标记为已删除||超出屏幕\n\t\t\t\tthis.objects.splice(i, 1);\t\t\t\t//删除当前物体\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tindex = this.getIndex(rect);\n\t\t\t// 如果矩形不属于该象限，则将该矩形重新插入\n\t\t\tif (index === -1 || !isInner(rect, this.bounds)) {\n\t\t\t\tif (this !== root) {\n\t\t\t\t\troot.insert(objs.splice(i, 1)[0]);\n\t\t\t\t}\n\n\t\t\t\t// 如果矩形属于该象限 且 该象限具有子象限，则\n\t\t\t\t// 将该矩形安插到子象限中\n\t\t\t} else if (this.nodes.length) {\n\t\t\t\tthis.nodes[index].insert(objs.splice(i, 1)[0]);\n\t\t\t}\n\t\t}\n\n\t\t// 递归刷新子象限\n\t\tfor (i = 0, len = this.nodes.length; i < len; i++) {\n\t\t\tresult = result.concat(this.nodes[i].refresh(root));\n\t\t}\n\t\tresult = result.concat(objs);\n\t\treturn result;\n\t}\n\n}\n/*\n\t常量：\n\t- MAX_OBJECTS: 每个节点（象限）所能包含物体的最大数量\n\t- MAX_LEVELS: 四叉树的最大深度\n*/\nQuadTree.prototype.MAX_OBJECTS = 10;\nQuadTree.prototype.MAX_LEVELS = 5;\n\n\n// 判断矩形是否在象限范围内——溢出即全部在象限外时返回false\nfunction isInner(rect, bounds) {\n\treturn\trect.x + rect.width >= bounds.x &&\n\t\t\trect.y + rect.height >= bounds.y &&\n\t\t\trect.x - rect.width <= bounds.x + bounds.width &&\n\t\t\trect.y - rect.height <= bounds.y + bounds.height;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/class/QuadTree.js\n **/","import Boss from './class/BossSprite';\nimport Player from './class/PlayerSprite';\nimport QuadTree from './class/QuadTree';\nimport Rect from './class/Rect';\nimport '../css/game.css';\n\nimport resource from './resouce';\nimport setting from './setting';\n\n{\n\tlet lastTime = 0;\n\tlet vendors = ['ms', 'moz', 'webkit', 'o'];\n\tfor (let x = 0; x < vendors.length && !window.requestAnimationFrame; x++) {\n\t\twindow.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n\t\twindow.cancelAnimationFrame = window[vendors[x] + 'CancelRequestAnimationFrame'];\n\t}\n\tif (!window.requestAnimationFrame)\n\t\twindow.requestAnimationFrame = function(callback) {\n\t\t\tlet currTime = new Date().getTime();\n\t\t\tlet timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\tlet id = window.setTimeout(function() {\n\t\t\t\tcallback(currTime + timeToCall);\n\t\t\t}, timeToCall);\n\t\t\tlastTime = currTime + timeToCall;\n\t\t\treturn id;\n\t\t};\n\tif (!window.cancelAnimationFrame)\n\t\twindow.cancelAnimationFrame = function(id) {\n\t\t\tclearTimeout(id);\n\t\t};\n}\n\nlet SYS = {\n\tCollision: null,\n\tRender: null,\n\tLoader: null,\n\tControl: null,\n\tResource: null,\n\tSetting: null,\n\tDom: null\n};\n\nSYS.Loader = {\n\tlayer: null,\n\tloaded: true,\n\tloadedCount: 0,\n\ttotalCount: 0,\n\tsoundFileExtn: '.ogg',\n\tinit(layer) {\n\t\tlet mp3Support, oggSupport;\n\t\tlet audio = document.createElement('audio');\n\t\tif (audio.canPlayType) {\n\t\t\tmp3Support = '' != audio.canPlayType('audio/mpeg');\n\t\t\toggSupport = '' != audio.canPlayType('audio/ogg; codecs = \"vorbis\"');\n\t\t} else {\n\t\t\tmp3Support = false;\n\t\t\toggSupport = false;\n\t\t}\n\t\tthis.soundFileExtn = oggSupport ? '.ogg' : mp3Support ? '.mp3' : undefined;\n\t\tthis.layer = layer;\n\t},\n\titemLoaded() {\n\t\tthis.loadedCount++;\n\t\tif (this.loadedCount === this.totalCount) {\n\t\t\tthis.loaded = true;\n\t\t\tthis.layer.style.display = 'none';\n\t\t\tif (this.onload) {\n\t\t\t\tthis.onload();\n\t\t\t\tthis.onload = undefined;\n\t\t\t}\n\t\t}\n\t},\n\tloadImages(url) {\n\t\tthis.totalCount++;\n\t\tthis.loaded = false;\n\t\tthis.layer.style.display = 'block';\n\n\t\tlet img = new Image();\n\t\timg.src = url;\n\t\timg.onload = () => this.itemLoaded();\n\t\treturn img;\n\t},\n\tloadSound(url) {\n\t\tthis.totalCount++;\n\t\tthis.loaded = false;\n\t\tthis.layer.style.display = 'block';\n\t\tlet audio = new Audio();\n\t\taudio.src = url + this.soundFileExtn;\n\t\taudio.addEventListener('canplaythrough', this.itemLoaded, false);\n\t\treturn audio;\n\t}\n};\n\nSYS.Control = {\n\tstartPos: {\n\t\tx: 0,\n\t\ty: 0\n\t},\n\tmovePos: {\n\t\tx: 0,\n\t\ty: 0\n\t},\n\teventList: [],\n\tcallbackList: [],\n\taddHandler(element, type, Func) {\n\t\tif (element.addEventListener)\n\t\t\telement.addEventListener(type, Func, false);\n\t\telse if (element.attachEvent)\n\t\t\telement.attachEvent('on' + type, Func);\n\t\telse\n\t\t\telement['on' + type] = Func;\n\t},\n\tinit(element) {\n\t\telement = element || document;\n\t\tconst start = 'ontouchstart' in document ? 'touchstart' : 'mousedown';\n\t\tconst move = 'ontouchmove' in document ? 'touchmove' : 'mousemove';\n\t\tconst end = 'ontouchend' in document ? 'touchend' : 'mouseup';\n\t\tconst startFunc = (ev) => {\n\t\t\tev = ev || window.event;\n\t\t\tconst pos = 'ontouchstart' in document ? ev.touches[0] : ev;\n\t\t\tthis.startPos = {\n\t\t\t\t'x': pos.pageX,\n\t\t\t\t'y': pos.pageY\n\t\t\t};\n\t\t\tthis.movePos = this.startPos;\n\t\t};\n\t\tconst moveFunc = (ev) => {\n\t\t\tev = ev || window.event;\n\t\t\tconst pos = 'ontouchstart' in document ? ev.touches[0] : ev;\n\t\t\tthis.movePos = {\n\t\t\t\t'x': pos.pageX,\n\t\t\t\t'y': pos.pageY\n\t\t\t};\n\t\t\tev.preventDefault();\n\t\t};\n\t\tconst endFunc = (ev) => {\n\t\t\tev = ev || event;\n\t\t\tfor (let i = 0, length = this.eventList.length; i < length; i++) {\n\t\t\t\tthis.event[this.eventList[i]](this.callbackList[i].cb, this, ev);\n\t\t\t}\n\t\t};\n\t\tthis.addHandler(element, start, startFunc);\n\t\tthis.addHandler(element, move, moveFunc);\n\t\tthis.addHandler(element, end, endFunc);\n\t},\n\ton(event, callback) {\n\t\tthis.eventList.push(event);\n\t\tthis.callbackList.push({\n\t\t\tcb: callback\n\t\t});\n\t\treturn this;\n\t},\n\tevent: {\n\t\ttap(callback, _this, ev) {\n\t\t\t//if (_this.movePose)\n\t\t\tif (Math.abs(_this.movePos.x - _this.startPos.x) > 1 || Math.abs(_this.movePos.y - _this.startPos.y) > 1)\n\t\t\t\treturn;\n\t\t\tcallback(ev);\n\t\t},\n\t\tswipe(callback, _this, ev) {\n\t\t\t//if (!_this.movePose) return;\n\t\t\tcallback(ev);\n\t\t\treturn _this.movePos = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t}\n\t}\n};\nSYS.Collision = {\n\tTree: null,\n\tinit(tree) {\n\t\tthis.Tree = tree;\n\t},\n\tcheck(collider, collidee) {\n\t\tlet distX = Math.abs(collider.cx - collidee.cx);\n\t\tlet distY = Math.abs(collider.cy - collidee.cy);\n\t\tif (distX < (collider.width + collidee.width) / 2 && distY < (collider.height + collidee.height) / 2)\n\t\t\treturn true;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\n\nSYS.Render = {\n\tcanvas: null,\n\tctx: null,\n\trenderWidth: 0,\n\trenderHeight: 0,\n\tQueue: [],\n\tinit(canvas) {\n\t\tthis.canvas = canvas;\n\t\tthis.ctx = canvas.getContext('2d');\n\t\tthis.renderWidth = canvas.width;\n\t\tthis.renderHeight = canvas.height;\n\t},\n\tadd(item) {\n\t\tthis.Queue = this.Queue.concat(item);\n\t},\n\tempty() {\n\t\tthis.Queue = [];\n\t},\n\tclear() {\n\t\tthis.ctx.clearRect(0, 0, this.renderWidth, this.renderHeight);\n\t},\n\trender() {\n\t\tthis.Queue.forEach(item => {\n\t\t\titem.go();\n\t\t\titem.draw(this.ctx);\n\t\t});\n\t}\n};\nSYS.Dom = {\n\tscorelayer: document.getElementById('score-layer'),\n\tmenulayer: document.getElementById('menu-layer'),\n\tresetlayer: document.getElementById('reset-layer'),\n\tloadlayer: document.getElementById('load-layer'),\n\tbglayer: document.getElementById('bg-layer'),\n\tcanvas: document.getElementById('draw-target'),\n\tbgcanvas: document.getElementById('bg-target'),\n\tscore: document.getElementById('score')\n};\nSYS.Resource = {\n\timages: {},\n\tsounds: {}\n};\nlet Game = {\n\tRAF: null,\n\tstart() {\n\n\t\tSYS.Dom.canvas.width = document.documentElement.clientWidth;\n\t\tSYS.Dom.canvas.height = document.documentElement.clientHeight;\n\t\tSYS.Dom.canvas.backgroundAlpha = 0;\n\t\tSYS.Dom.bgcanvas.width = document.documentElement.clientWidth;\n\t\tSYS.Dom.bgcanvas.height = document.documentElement.clientHeight;\n\n\t\t//创建一个四叉树,并将屏幕上的所有物体都插入到这个四叉树中\n\t\tlet Tree = new QuadTree(new Rect(0, 0, SYS.Dom.canvas.width, SYS.Dom.canvas.height));\n\n\t\tSYS.Collision.init(Tree);\n\t\tSYS.Render.init(SYS.Dom.canvas);\n\t\tSYS.Control.init(document);\n\t\tSYS.Loader.init(SYS.Dom.loadlayer);\n\n\t\tSYS.Resource.images.all = SYS.Loader.loadImages(resource.images.ALL);\n\t\tSYS.Resource.images.player = SYS.Loader.loadImages(resource.images.PLAYER);\n\t\tSYS.Resource.images.explosion = SYS.Loader.loadImages(resource.images.EXPLOSION);\n\t\tSYS.Resource.images.bg = SYS.Loader.loadImages(resource.images.BG);\n\n\t\tSYS.Loader.onload = () => this.play();\n\n\t},\n\tplay() {\n\t\tlet resultArr = [];\n\t\tlet boss = new Boss(SYS.Resource.images.all, SYS.Render.renderWidth / 2, SYS.Render.renderHeight / 5, setting.Boss[0]),\n\t\t\tplayer = new Player(SYS.Resource.images.player, SYS.Render.renderWidth / 2, SYS.Render.renderHeight, setting.Player[0]);\n\n\t\tSYS.Dom.bgcanvas.getContext('2d').drawImage(SYS.Resource.images.bg, 0, 0, SYS.Dom.bgcanvas.width, SYS.Dom.bgcanvas.height);\n\n\t\tconst tree = SYS.Collision.Tree;\n\t\tconst img_all = SYS.Resource.images.explosion;\n\t\ttree.insert(boss);\n\n\t\tFPS.init();\n\t\tlet loop = () => {\n\t\t\tthis.RAF = window.requestAnimationFrame(loop);\n\t\t\tboss.fire(tree);\n\t\t\tplayer.fire(tree);\n\n\t\t\tplayer.move(SYS.Control.movePos.x, SYS.Control.movePos.y);\n\n\t\t\t// 筛选物体集合并进行碰撞检测\n\t\t\tresultArr = tree.retrieve(player);\n\t\t\tresultArr.forEach(result => {\n\t\t\t\t// norrow phase部分的碰撞检测...\n\t\t\t\tif (!result.removed && !result.undead) {\n\t\t\t\t\tif (result.owner !== 'player' && SYS.Collision.check(player, result)) {\n\t\t\t\t\t\tresult.destroy(img_all, tree);\n\t\t\t\t\t\tplayer.hit();\n\t\t\t\t\t\tif (player.HP <= 0) {\n\t\t\t\t\t\t\tplayer.destroy(img_all, tree);\n\t\t\t\t\t\t\tplayer.ceasefire();\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tSYS.Dom.resetlayer.style.display = 'block';\n\t\t\t\t\t\t\t\twindow.cancelAnimationFrame(this.RAF);\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (result.owner === 'player' && SYS.Collision.check(boss, result)) {\n\t\t\t\t\t\tresult.destroy(img_all, tree);\n\t\t\t\t\t\tboss.hit();\n\t\t\t\t\t\tSYS.Dom.score.innerHTML = parseInt(SYS.Dom.score.innerHTML) + 100;\n\t\t\t\t\t\tif (boss.HP <= 0) {\n\t\t\t\t\t\t\tboss.destroy(img_all, tree);\n\t\t\t\t\t\t\tboss.ceasefire();\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tSYS.Dom.resetlayer.style.display = 'block';\n\t\t\t\t\t\t\t\twindow.cancelAnimationFrame(this.RAF);\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tresultArr = SYS.Collision.Tree.refresh();\n\t\t\tSYS.Render.add(player);\n\t\t\tSYS.Render.add(resultArr);\n\t\t\tSYS.Render.clear();\n\t\t\tSYS.Render.render();\n\t\t\tSYS.Render.empty();\n\n\t\t\tFPS.show();\n\t\t};\n\t\tthis.RAF = window.requestAnimationFrame(loop);\n\n\t\tSYS.Control.on('tap', (ev) => {\n\t\t\tev = ev || window.event;\n\t\t\tlet elem = ev.srcElement || ev.target;\n\t\t\tif (elem.id == 'reset')\n\t\t\t\tthis.reset();\n\t\t});\n\t},\n\treset() {\n\t\twindow.cancelAnimationFrame(this.RAF);\n\t\tSYS.Render.clear();\n\t\tSYS.Render.empty();\n\t\tSYS.Dom.score.innerHTML = '0';\n\t\tSYS.Dom.resetlayer.style.display = 'none';\n\t\tSYS.Collision.Tree.clear();\n\t\tthis.play();\n\t},\n\tend() {\n\n\t}\n};\nlet FPS = {\n\tlayer: null,\n\tstartTime: null,\n\tendTime: null,\n\tframe: 0,\n\tinit() {\n\t\tthis.startTime = +new Date;\n\t\tthis.layer = document.getElementById('fps');\n\t},\n\tshow() {\n\t\tthis.endTime = +new Date;\n\t\tthis.frame = Math.round(1000 / (this.endTime - this.startTime));\n\t\tthis.startTime = this.endTime;\n\t\tthis.layer.innerHTML = this.frame;\n\t}\n};\n\nGame.start();\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/game.js\n **/","export default function Anime(sprite, index, total, timeout, tree) {\n\tlet timer;\n\t(function motion() {\n\t\tif (index >= total) {\n\t\t\tsprite.removed = true;\n\t\t\tsprite.undead = false;\n\t\t\tclearTimeout(timer);\n\t\t\treturn;\n\t\t}\n\t\tsprite.change(++index);\n\t\ttree.insert(sprite);\n\t\ttimer = setTimeout(motion, timeout);\n\t})();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/lib/anime.js\n **/","import ALL \t\t\tfrom '../images/all';\nimport PLAYER \t\tfrom '../images/player';\nimport EXPLOSION \tfrom '../images/explosion';\nimport BG \t\t\tfrom '../images/bg';\n\nexport default {\n\timages: {\n\t\tALL,\n\t\tPLAYER,\n\t\tEXPLOSION,\n\t\tBG\n\t},\n\tsounds: [\n\n\t]\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/resouce.js\n **/","module.exports = __webpack_public_path__ + \"images/all.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/all.png\n ** module id = 16\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"images/bg.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/bg.png\n ** module id = 17\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"images/explosion.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/explosion.png\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"images/player.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/player.png\n ** module id = 19\n ** module chunks = 0\n **/"],"sourceRoot":""}